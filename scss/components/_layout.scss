// Top-level layout using CSS Grid and project variables/mixins
@use "../abstracts/variables" as vars;
@use "../abstracts/mixins" as mixins;

*, *::before, *::after { box-sizing: border-box; }

html, body {
	height: 100%;
	margin: 0;
	background: vars.$box-bg;
	color: vars.$color-text;
	font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
	overflow: hidden;
}

:root {
	--font-sm: 12px;
	--font-base: 14px;
	--font-md: 16px;
	--font-lg: 20px;
	--font-xl: 24px;
	--font-xxl: 32px;
}

.container {
	height: 100vh;
	max-width: 2000px;
	margin: 0 auto;
	padding: 16px;
	overflow: hidden;
}

#app {
	height: 100%;
	display: grid;
	/* tighten the center column and slightly reduce right column to match reference */
	grid-template-columns: 1fr 1.25fr 0.95fr;
	grid-template-rows: auto 1fr;
	grid-template-areas: 
		"kantine skema bus"
		"kantine skema bus";
	gap: 22px;
	align-items: start;
	min-height: 0;
}

/* Generic panel wrapper used by components */
.panel {
	@include mixins.panel(18px, 14px);
	display: flex;
	flex-direction: column;
	gap: 12px;
	min-height: 0;
}

.kantine-view { grid-area: kantine; }
.skema-view { grid-area: skema; }
.bus-view   { grid-area: bus; }

/* Keep children shrinkable so the grid doesn't overflow */
#app, .container, .kantine-view, .skema-view, .bus-view { min-height: 0; min-width: 0; }

/* Helper: lists should flex but not force the page to scroll */
.flex-list { display: flex; flex-direction: column; gap: 10px; flex: 1 1 auto; min-height: 0; overflow: hidden; }

/* Responsive: collapse to single column on narrow viewports */
@media (max-width: vars.$bp-md) {
	:root {
		--font-sm: 11px;
		--font-base: 12px;
		--font-md: 14px;
		--font-lg: 16px;
		--font-xl: 18px;
		--font-xxl: 22px;
	}
	#app { grid-template-columns: 1fr; grid-template-rows: auto auto auto; grid-template-areas: "kantine" "skema" "bus"; gap: 12px; }
	.container { padding: 8px; }
	.panel { padding: 10px; border-radius: 10px; }
}

